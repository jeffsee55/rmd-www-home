{{ define "main" }}
<style>
/* width */
::-webkit-scrollbar {
  width: 5px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #262633;
}

/* Handle */
::-webkit-scrollbar-thumb {
  background: #141422;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555;
}
</style>
<div class="flex flex-wrap bg-color-141422 pt-8 page-content">
    <div class="flex flex-wrap w-full mx-auto lg:px-5">
        <div class="hidden fixed lg:inline pt-8 w-full lg:w-2/12">
          <ul class="py-2 px-3 overflow-y-scroll apps-menu">
            {{ $currentPage := . }}
            {{ range .Site.Menus.main }}
              {{ template "main_nav_item" (dict "currentPage" $currentPage "content" .) }}
            {{ end }}
          </ul>
        </div>
        <div class="w-11/12 lg:w-8/12 ml-auto px-2 lg:px-5 relative content-box">
            <div class="w-full mx-auto">
                <h1 class="font-bold text-4xl"><span class="bg-rem-red px-3 py-1 text-white">Apps</span></h1>
            </div>
            <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
            <div data-netlify-identity-menu></div>

            <div class="">
                {{ .Content }}
            </div>
        </div>
        <div class="inline r-0 w-2/12 lg:pr-8 pt-8 text-sm">
          <div class="fixed">
            {{ .TableOfContents }}
          </div>
        </div>
    </div>
</div>
{{ end }}

{{ define "main_nav_item" }}
  {{ $currentPage := .currentPage }}
  {{with .content}}
    <ul>
    {{ if .HasChildren }}
      <ul class="ul-caret hover:text-rem-blue leading-tight select-none pb-3" data-toggle="collapse" href="#{{ .Name | urlize }}" role="button" aria-expanded="false" aria-controls="{{ .Name | urlize }}">{{ .Name }}<i class="pl-1 text-xs fas fa-caret-down"></i></ul>
      <li id="{{ .Name | urlize }}" class='panel-collapse collapse {{ if $currentPage.HasMenuCurrent "main" . }}in{{ end }}'>
  			{{ range .Children }}
  				{{ template "main_nav_item" (dict "currentPage" $currentPage "content" .) }}
  			{{ end }}
  		</li>
    {{ else }}
      <li class="ul-caret hover:text-rem-blue item-nested leading-tight select-none pb-3">
        <a class='{{ if $currentPage.IsMenuCurrent "main" . }}active{{ end }}' href="{{ .URL }}">{{ .Name }}</a>
      </li>
    {{ end }}
  {{ end }}
  </ul>
{{ end }}
